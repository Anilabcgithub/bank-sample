<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd"
		version="1.0">

	<persistence-unit-metadata>
		<xml-mapping-metadata-complete/>
		<persistence-unit-defaults>
			<access>FIELD</access>
		</persistence-unit-defaults>
	</persistence-unit-metadata>

	<package>br.com.dextra.curso.bank.domain</package>

	<entity class="AccountBean">
		<table name="TBL_ACCOUNTS"/>
		<attributes>
		    <id name="id">
				<generated-value strategy="IDENTITY"/>
			</id>
		    <basic name="accountNumber">
		        <column name="VCH_NUMBER" nullable="false" unique="true"/>
		    </basic>
		    <basic name="owner">
		        <column name="VCH_OWNER" nullable="false"/>
		    </basic>
		    <basic name="cash">
		        <column name="NUM_CASH" nullable="false" precision="5" scale="2"/>
		    </basic>
		</attributes>
	</entity>

	<entity class="MovimentBean">
		<table name="TBL_MOVIMENTS"/>
		<attributes>
		    <id name="id">
				<generated-value strategy="SEQUENCE"/>
			</id>
		    <basic name="desc">
		        <column name="VCH_DESCRIPTION" nullable="false"/>
		    </basic>
		    <basic name="value">
		        <column name="NUM_VALUE" nullable="false"/>
		    </basic>
		    <basic name="date">
		        <column name="DT_DATE" nullable="false"/>
		        <temporal>DATE</temporal>
		    </basic>
		    <basic name="type">
		        <column name="CK_MOVIMENT_TYPE" nullable="false"/>
		        <enumerated>STRING</enumerated>
		    </basic>
            <many-to-one name="account" fetch="EAGER">
                <join-column name="FK_ACCOUNT"/>
			</many-to-one>
		</attributes>
	</entity>

</entity-mappings>